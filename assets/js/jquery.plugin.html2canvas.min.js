(function(e){e.fn.html2canvas=function(t){function u(t,n){window.clearTimeout(s);s=window.setTimeout(function(){i.fadeOut(function(){i.remove();i=null})},n||2e3);if(i)i.remove();i=e("<div />").html(t).css({margin:0,padding:10,background:"#000",opacity:.7,position:"fixed",top:10,right:10,fontFamily:"Tahoma",color:"#fff",fontSize:12,borderRadius:12,width:"auto",height:"auto",textAlign:"center",textDecoration:"none",display:"none"}).appendTo(document.body).fadeIn();r.log(t)}if(t&&t.profile&&window.console&&window.console.profile){console.profile()}var n=new Date,r,i=null,s=false,o=n.getTime();t=t||{};t.onrendered=t.onrendered||function(n){var r=e(n),i=new Date;if(t&&t.profile&&window.console&&window.console.profileEnd){console.profileEnd()}r.css({position:"absolute",left:0,top:0}).appendTo(document.body);r.siblings().toggle();e(window).click(function(){r.toggle().siblings().toggle();u("Canvas Render "+(r.is(":visible")?"visible":"hidden"))});u("Screenshot created in "+(i.getTime()-o)+" ms<br />",4e3);try{r[0].toDataURL()}catch(s){if(r[0].nodeName.toLowerCase()==="canvas"){alert("Canvas is tainted, unable to read data")}}};r=html2canvas(this,t)}})(jQuery)